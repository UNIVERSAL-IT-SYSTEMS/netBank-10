<ui:composition template="/templates/userLayout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <div align="center">
            <h:form>
                <div class="col-md-8 col-md-offset-2 tablepanel">
                    <div class="panel-heading">
                        <h2>Adatok módosítása</h2>
                    </div>
                    <p:panelGrid columns="2">
                        <p:outputLabel value="Név:" for="name" />
                        <p:inputText id="name" value="#{userController.user.name}" title="Név" class="box" disabled="true" required="true" requiredMessage="A mező kitöltése kötelező!" />

                        <p:outputLabel value="Email cím: " for="email" />
                        <p:inputText id="email" value="#{userController.user.email}" title="Email" class="box" required="true" requiredMessage="A mező kitöltése kötelező!" >
                            <f:validator validatorId="emailValidator" />
                            <f:validator binding="#{isAvailableEmail}" />
                        </p:inputText>


                        <p:outputLabel value="Születési idő: " />
                        <p:calendar id="dateOfBirth"  maxdate="1999.12.31" mindate="1900.01.01" value="#{userController.user.dateOfBirth}" pattern="yyyy.MM.dd" class="box myClass"/>

                        <p:outputLabel value="Cím: " />
                        <p:inputText id="address" value="#{userController.user.address}" class="box"/> 

                        <p:outputLabel value="Mobil telefonszám: " />
                        <p:inputText id="phone" value="#{userController.user.phoneNumber}" class="box">
                            <f:validator validatorId="phoneNumberValidator"/>
                        </p:inputText>

                    </p:panelGrid>
                    <div class="col-md-12">
                        <p:messages id="messages" closable="true" showDetail="false" autoUpdate="true"></p:messages>
                    </div>

                    <div class="panel-heading" style="text-align: center; padding-top: 20px ;padding-bottom: 30px">
                        <div class="row">
                            <div class="col-md-2 col-md-offset-3">
                                <p:commandButton value="Adatlap módosítása" action="#{userController.updateProfileUser()}" class="button btn btn-default"/>
                            </div>
                            <div class="col-md-2 col-md-offset-2" >
                                <p:button value="Mégse" href="profilePage.xhtml" class="button btn btn-default"/>
                            </div>
                        </div>
                    </div>
                </div>         
            </h:form>
        </div>


    </ui:define>
</ui:composition>