<ui:composition template="/templates/userLayout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="content">
        <div align="center">
            <h:form>
                <div class="col-md-8 col-md-offset-2 tablepanel">

                    <div class="col-md-6 col-md-offset-3">

                        <div class="panel-heading">
                            <h3>Jelszó megváltoztatása</h3>
                        </div>

                        <div class="form-group" style="padding-top: 20px">
                            <label for="oldpass" class="col-sm-4 col-sm-offset-1 control-label">Jelenlegi jelszó</label>
                            <div class="col-sm-6">
                                <p:password id="oldpass" required="true" requiredMessage="Adja meg a jelenlegi jelszavát" autocomplete="off" class="form-control">
                                    <f:validator binding="#{currentPasswordValidator}" />
                                </p:password>
                                <h:message id="m_oldpass" for="oldpass" />
                            </div>
                        </div>

                        <div class="form-group" style="padding-top: 20px">
                            <label for="password" class="col-sm-4 col-sm-offset-1 control-label">Új jelszó</label>
                            <div class="col-sm-6">
                                <p:password class="form-control" id="password" match="confirm" autocomplete="off" required="true"  validatorMessage="A jelszavak nem egyeznek!" requiredMessage="Nem adott meg jelszót!" value="#{userController.newPassword}">
                                    <f:attribute name="confirm" value="#{confirmPassword.submittedValue}" />
                                    <f:validator validatorId="passwordValidator"/>
                                </p:password>
                                <h:message id="m_password" for="password"/>
                            </div>
                        </div>

                        <div class="form-group" style="padding-top: 20px">
                            <label for="confirm" class="col-sm-4 col-sm-offset-1 control-label">Új jelszó megerősítése</label>
                            <div class="col-sm-6">
                                <p:password  class="form-control" id="confirm" binding="#{confirmPassword}" autocomplete="off" required="true" requiredMessage="Nem erősítette meg a jelszót!" value="#{userController.newPassword}" >
                                    <f:validator validatorId="passwordValidator"/>
                                </p:password>
                                <h:message id="m_confirm" for="confirm" />
                            </div>
                        </div>

                        <div class="col-md-12" style="padding-top: 20px">
                            <p:messages id="messages"  closable="true" showDetail="false" autoUpdate="true"></p:messages>
                        </div>

                        <div class="panel-heading" style="text-align: center; padding-top: 20px ;padding-bottom: 30px">
                            <div class="row" >
                                <div class="col-md-6">
                                    <p:commandButton id="save" class="button btn btn-default" value="Módosítás" action="#{userController.changePassword()}" /> 
                                </div>
                                <div class="col-md-6">
                                    <p:button value="Mégse"  href="profilePage.xhtml" class="button btn btn-default"/>                
                                </div>
                            </div>
                        </div>
                    </div>




                </div>







            </h:form>

        </div>



    </ui:define>
</ui:composition>